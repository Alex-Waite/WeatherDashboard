<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
</head>

<body>
    <header>
        <nav class="navbar navbar-dark bg-dark">
            <h1 class="navbar-brand mb-0 centered">Weather Dashboard</h1>
        </nav>
    </header>

    <main>
        <div class="container">
            <div class="row">
                <div class="col-md-3 border centered bgGrey whiteText">
                    <h4>Search for a City:</h4>
                    <div class="row searchBar ml-1 mr-1">
                        <div class="input-group mb-3">
                            <input type="text" class="form-control" placeholder="Search" aria-label="City Search"
                                aria-describedby="button-addon2" id="searchedCity">
                            <div class="input-group-append">
                                <button class="btn btn-outline-light" type="button" id="searchBtn">Search</button>
                            </div>
                        </div>
                        <div class="col-md-12 mb-1">
                            <button class="btn btn-light cityBtn" id="adelaide">Adelaide</button>
                        </div>
                        <div class="col-md-12 mb-1">
                            <button class="btn btn-light cityBtn" id="melbourne">Melbourne</button>
                        </div>
                        <div class="col-md-12 mb-1">
                            <button class="btn btn-light cityBtn" id="sydney">Sydney</button>
                        </div>
                        <div class="col-md-12 mb-1">
                            <button class="btn btn-light cityBtn" id="perth">Perth</button>
                        </div>
                        <div class="col-md-12 mb-1">
                            <button class="btn btn-light cityBtn" id="darwin">Darwin</button>
                        </div>
                        <div class="col-md-12 mb-1">
                            <button class="btn btn-light cityBtn" id="hobart">Hobart</button>
                        </div>
                        <div class="col-md-12 mb-5">
                            <button class="btn btn-light cityBtn" id="canberra">Canberra</button>
                        </div>
                    </div>



                </div>
                <div class="col-md-9 border">
                    <div class="row">
                        <div class="col-md-12">
                            <h1>City: <span id="city-name"></span> <span id="date-today"></span></h1>
                        </div>



                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Temprature: <span id="temprature"></span></span></h3>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Humidity: <span id="humidity"></span></span></h3>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Wind Speed: <span id="wind-speed"></span></span></h3>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h3>UV Index: <span id="uv-index"></span></span></h3>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h1>5 Day Forecast:</h1>
                            <div class="row">
                                <div class="col-md-2">
                                    <h5><span id="day1-date"></span></h5>
                                    <h6><span id="day1-icon"></span></h6>
                                    <h6><span id="day1-temp"></span></h6>
                                    <h6><span id="day1-humid"></span></h6>

                                </div>
                                <div class="col-md-2"></div>
                                <div class="col-md-2"></div>
                                <div class="col-md-2"></div>
                                <div class="col-md-2"></div>
                                <div class="col-md-2"></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    </main>

    <footer>

    </footer>

    <script src="script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script>
        const apiKey = "39f204c78b8d7984a012c051ce393e03"

        function weatherForecast(chosenCity) {
            // The query URL determines what information the API returns from a search 
            var queryURL =
                `https://api.openweathermap.org/data/2.5/weather?q=${chosenCity}&appid=${apiKey}&units=metric`
            // The AJAX function searches 
            $.ajax({
                url: queryURL,
                method: "GET"
            }).then(function (response) {
                // The values returned by the api can be seen in the response object, logging this helps track the values so they can be "pointed to" when altering the HTML
                console.log(response)
                // Sets the text on the HTML to the value indicated in the API JSON
                var nameOf = $("#city-name").text(response.name)
                // Uses moment.Js to display the current date
                var dateToday = $("#date-today").text(moment().format("(DD/MM/YYYY)"))
                var tempratureOf = $("#temprature").text(response.main.temp + "Â°C")
                var humidityOf = $("#humidity").text(response.main.humidity + "%")
                var windSpeedOf = $("#wind-speed").text(response.wind.speed + " M/s")
            })

        }

        // Preset City on-click functions, sets chosenCity to a set string as the argument for the weather forecast function
        $("#adelaide").on("click", function () {
            var chosenCity = "adelaide";
            weatherForecast(chosenCity)
        })
        $("#melbourne").on("click", function () {
            var chosenCity = "melbourne";
            weatherForecast(chosenCity)
        })
        $("#perth").on("click", function () {
            var chosenCity = "perth";
            weatherForecast(chosenCity)
        })
        $("#brisbane").on("click", function () {
            var chosenCity = "brisbane";
            weatherForecast(chosenCity)
        })
        $("#sydney").on("click", function () {
            var chosenCity = "sydney";
            weatherForecast(chosenCity)
        })
        $("#hobart").on("click", function () {
            var chosenCity = "hobart";
            weatherForecast(chosenCity)
        })
        $("#canberra").on("click", function () {
            var chosenCity = "canberra";
            weatherForecast(chosenCity)
        })
        $("#darwin").on("click", function () {
            var chosenCity = "darwin";
            weatherForecast(chosenCity)
        })

        // Search function, reads the users input value and sets it as the argument for the weather forecast function
        $("#searchBtn").on("click", function () {
            var chosenCity = $("#searchedCity").val()
            weatherForecast(chosenCity)
        })
    </script>
</body>

</html>